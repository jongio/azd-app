import{S as l,d as u}from"./tour-steps.AsGCdvT0.js";function g(){try{const t=localStorage.getItem(l);if(!t)return u;const e=JSON.parse(t);return e.version!==1?u:e}catch{return u}}function d(t,e){const s=document.querySelector("[data-progress-text]"),n=document.querySelector("[data-progress-fill]"),o=document.querySelectorAll("[data-step-item]"),c=t.length,p=Math.round(c/e*100);s&&(s.textContent=`Progress: ${c} of ${e}`),n&&(n.style.width=`${p}%`,n.setAttribute("aria-valuenow",String(c))),o.forEach(r=>{const m=parseInt(r.getAttribute("data-step-number")||"0",10),a=r.querySelector("[data-step-icon]");t.includes(m)?(r.classList.add("tour-step-item--completed"),a&&(a.textContent="✓")):(r.classList.remove("tour-step-item--completed"),a&&!r.classList.contains("tour-step-item--current")&&(a.textContent="○"))})}function i(){const e=document.querySelectorAll("[data-step-item]").length,s=g();d(s.completedSteps,e),document.querySelector("[data-tour-reset]")?.addEventListener("click",()=>{if(confirm("Are you sure you want to reset your tour progress?")){localStorage.removeItem(l),d([],e);const o=document.createElement("div");o.setAttribute("role","status"),o.setAttribute("aria-live","polite"),o.className="sr-only",o.textContent="Tour progress has been reset.",document.body.appendChild(o),setTimeout(()=>o.remove(),1e3)}})}window.addEventListener("tour:progress-updated",(t=>{const e=document.querySelectorAll("[data-step-item]");d(t.detail.completedSteps,e.length)}));document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i();document.addEventListener("astro:after-swap",i);
