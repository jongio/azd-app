# yaml-language-server: $schema=https://raw.githubusercontent.com/jongio/azd-app/main/schemas/v1.1/azure.yaml.json

name: hooks-platform-test

hooks:
  prerun:
    run: echo "Default prerun"
    shell: sh
    windows:
      run: Write-Host "ü™ü Windows prerun - Setting up environment..."
      shell: pwsh
    posix:
      run: echo "üêß POSIX prerun - Setting up environment..."
      shell: bash
  postrun:
    run: ./scripts/postrun.sh
    shell: bash
    continueOnError: true
    windows:
      run: .\scripts\postrun.ps1
      shell: pwsh
    posix:
      run: ./scripts/postrun.sh
      shell: bash

services:
  api:
    language: Python
    project: .
    entrypoint: main.py
    ports:
      - "8000"
    environment:
      ENVIRONMENT: development
      DEBUG: "true"

reqs:
  - name: python
    minVersion: "3.8.0"
